# 구현 계획

- [x] 1. 프로젝트 구조 및 기본 인터페이스 설정
  - examples/world4utau 디렉토리 생성 및 CMake 설정
  - 기본 헤더 파일들과 인터페이스 정의
  - _요구사항: 1.1, 5.1, 5.2_

- [x] 1.1 world4utau 예제 디렉토리 구조 생성
  - examples/world4utau 디렉토리와 하위 구조 생성
  - CMakeLists.txt 파일 작성하여 libetude와 연결
  - _요구사항: 5.1, 5.2_

- [x] 1.2 UTAU 호환 인터페이스 헤더 파일 작성
  - utau_interface.h 파일 생성하여 UTAUParameters 구조체 정의
  - 명령줄 파라미터 파싱 함수 선언
  - _요구사항: 1.1, 5.1, 5.2_

- [x] 1.3 WORLD 알고리즘 인터페이스 헤더 파일 작성
  - world_engine.h 파일 생성하여 WorldAnalysisEngine, WorldSynthesisEngine 구조체 정의
  - WORLD 파라미터 구조체 및 함수 선언
  - _요구사항: 1.2, 1.3, 1.4_

- [x] 2. UTAU 파라미터 파싱 및 검증 구현
  - 명령줄 파라미터 파싱 로직 구현
  - UTAU 파라미터 유효성 검사 함수 구현
  - _요구사항: 1.1, 5.1, 5.2_

- [x] 2.1 명령줄 파라미터 파서 구현
  - parse_utau_parameters 함수 구현하여 argc, argv 파싱
  - 기존 world4utau와 동일한 파라미터 형식 지원
  - _요구사항: 1.1, 5.2_

- [x] 2.2 UTAU 파라미터 유효성 검사 구현
  - validate_utau_parameters 함수 구현
  - 파일 경로, 피치 범위, 볼륨 범위 등 검증 로직
  - _요구사항: 1.1, 5.1_

- [x] 2.3 파라미터 파싱 단위 테스트 작성
  - test_utau_parameter_parsing.c 파일 생성
  - 다양한 파라미터 조합에 대한 테스트 케이스 작성
  - _요구사항: 5.1, 5.2_

- [x] 3. WORLD F0 추출 엔진 구현
  - libetude STFT를 활용한 DIO/Harvest 알고리즘 구현
  - F0 추출 결과 검증 및 최적화
  - _요구사항: 1.2, 1.3, 2.1, 2.4_

- [x] 3.1 F0 추출 기본 구조 구현
  - WorldF0Extractor 구조체 및 생성/해제 함수 구현
  - libetude STFT 컨텍스트 통합
  - _요구사항: 1.2, 1.3, 2.1_

- [x] 3.2 DIO 알고리즘 구현
  - DIO 기반 F0 추출 알고리즘 구현
  - libetude의 SIMD 최적화 커널 활용
  - _요구사항: 1.2, 1.3, 2.1_

- [x] 3.3 Harvest 알고리즘 구현
  - Harvest 기반 F0 추출 알고리즘 구현
  - 정확도 우선 모드로 구현
  - _요구사항: 1.2, 1.3, 2.1_

- [x] 3.4 F0 추출 성능 최적화
  - SIMD 최적화 적용 및 성능 측정
  - 메모리 사용량 최적화
  - _요구사항: 2.1, 2.4, 6.1, 6.2_

- [x] 3.5 F0 추출 단위 테스트 작성
  - test_f0_extraction.c 파일 생성
  - 알려진 피치의 테스트 오디오로 정확성 검증
  - _요구사항: 1.2, 1.3_

- [x] 4. WORLD 스펙트럼 분석 엔진 구현
  - CheapTrick 알고리즘을 libetude STFT로 구현
  - 스펙트럼 엔벨로프 추출 및 최적화
  - _요구사항: 1.2, 1.3, 2.1, 2.4_

- [x] 4.1 스펙트럼 분석 기본 구조 구현
  - WorldSpectrumAnalyzer 구조체 및 관련 함수 구현
  - libetude STFT와의 통합 인터페이스 구현
  - _요구사항: 1.2, 1.3, 2.1_

- [x] 4.2 CheapTrick 알고리즘 구현
  - CheapTrick 기반 스펙트럼 엔벨로프 추출 구현
  - F0 적응형 스펙트럼 분석 로직 구현
  - _요구사항: 1.2, 1.3, 2.1_

- [x] 4.3 스펙트럼 분석 SIMD 최적화
  - libetude SIMD 커널을 활용한 최적화
  - 병렬 처리 지원 구현
  - _요구사항: 2.1, 2.4, 6.1, 6.2_

- [x] 4.4 스펙트럼 분석 단위 테스트 작성
  - test_spectrum_analysis.c 파일 생성
  - 스펙트럼 분석 정확성 및 성능 테스트
  - _요구사항: 1.2, 1.3_

- [x] 5. WORLD 비주기성 분석 엔진 구현
  - D4C 알고리즘 구현 및 libetude 통합
  - 비주기성 파라미터 추출 최적화
  - _요구사항: 1.2, 1.3, 2.1, 2.4_

- [x] 5.1 비주기성 분석 기본 구조 구현
  - WorldAperiodicityAnalyzer 구조체 및 관련 함수 구현
  - D4C 알고리즘 기본 틀 구현
  - _요구사항: 1.2, 1.3, 2.1_

- [x] 5.2 D4C 알고리즘 구현
  - D4C 기반 비주기성 추출 알고리즘 구현
  - 대역별 비주기성 분석 로직 구현
  - _요구사항: 1.2, 1.3, 2.1_

- [x] 5.3 비주기성 분석 최적화
  - libetude 수학 라이브러리 활용한 최적화
  - 메모리 효율적인 구현
  - _요구사항: 2.1, 2.4, 6.1, 6.2_

- [x] 5.4 비주기성 분석 단위 테스트 작성
  - test_aperiodicity_analysis.c 파일 생성
  - 비주기성 분석 정확성 테스트
  - _요구사항: 1.2, 1.3_

- [x] 6. WORLD 음성 합성 엔진 구현
  - WORLD 파라미터로부터 음성 합성 구현
  - libetude 보코더 시스템과 통합
  - _요구사항: 1.4, 2.1, 2.4, 6.1_

- [x] 6.1 음성 합성 기본 구조 구현
  - WorldSynthesisEngine 구조체 및 관련 함수 구현
  - libetude 보코더 컨텍스트와의 통합
  - _요구사항: 1.4, 2.1_

- [x] 6.2 WORLD 파라미터 기반 합성 구현
  - F0, 스펙트럼, 비주기성 파라미터로부터 음성 재구성
  - 시간 도메인 합성 알고리즘 구현
  - _요구사항: 1.4, 2.1_

- [x] 6.3 실시간 합성 최적화
  - 청크 단위 처리 지원
  - 지연 시간 최소화 구현
  - _요구사항: 6.1, 6.4_

- [x] 6.4 음성 합성 단위 테스트 작성
  - test_world_synthesis.c 파일 생성
  - 합성 품질 및 성능 테스트
  - _요구사항: 1.4, 6.1_

- [x] 7. 피치 조작 및 음성 파라미터 제어 구현
  - UTAU 피치 벤드 적용 로직 구현
  - 볼륨, 모듈레이션 등 음성 파라미터 제어
  - _요구사항: 3.1, 3.2, 3.3, 3.4_

- [x] 7.1 피치 벤드 적용 구현
  - apply_pitch_bend 함수 구현
  - UTAU 피치 벤드 데이터를 WORLD F0에 적용
  - _요구사항: 3.1, 3.4_

- [x] 7.2 볼륨 제어 구현
  - apply_volume_control 함수 구현
  - 스펙트럼 크기 조절을 통한 볼륨 제어
  - _요구사항: 3.2_

- [x] 7.3 모듈레이션 효과 구현
  - apply_modulation 함수 구현
  - 비브라토 효과를 위한 F0 모듈레이션
  - _요구사항: 3.3_

- [x] 7.4 타이밍 제어 구현
  - apply_timing_control 함수 구현
  - 시간 스케일링을 통한 재생 속도 조절
  - _요구사항: 3.4_

- [x] 7.5 음성 파라미터 제어 단위 테스트 작성
  - test_voice_parameter_control.c 파일 생성
  - 각 파라미터 제어 기능 테스트
  - _요구사항: 3.1, 3.2, 3.3, 3.4_

- [x] 8. 메모리 관리 및 캐싱 시스템 구현
  - libetude 메모리 풀 활용한 효율적 메모리 관리
  - 분석 결과 캐싱 시스템 구현
  - _요구사항: 2.2, 5.4, 6.2_

- [x] 8.1 WORLD 전용 메모리 관리자 구현
  - WorldMemoryManager 구조체 및 관련 함수 구현
  - libetude 메모리 풀과의 통합
  - _요구사항: 2.2, 6.2_

- [x] 8.2 분석 결과 캐싱 시스템 구현
  - WorldCache 구조체 및 캐시 관리 함수 구현
  - 파일 해시 기반 캐시 키 생성
  - _요구사항: 5.4_

- [x] 8.3 캐시 파일 I/O 구현
  - 캐시 데이터 직렬화/역직렬화 구현
  - 캐시 파일 관리 및 정리 로직
  - _요구사항: 5.4_

- [x] 8.4 메모리 및 캐싱 단위 테스트 작성
  - test_memory_management.c 파일 생성
  - 메모리 누수 및 캐시 동작 테스트
  - _요구사항: 2.2, 5.4, 6.2_

- [x] 9. 오디오 I/O 및 파일 처리 구현
  - WAV 파일 읽기/쓰기 구현
  - libetude 오디오 I/O 시스템 활용
  - _요구사항: 4.1, 4.2, 5.3_

- [x] 9.1 WAV 파일 읽기 구현
  - read_wav_file 함수 구현
  - 다양한 WAV 포맷 지원 (16bit, 24bit, 32bit)
  - _요구사항: 5.3_

- [x] 9.2 WAV 파일 쓰기 구현
  - write_wav_file 함수 구현
  - 고품질 오디오 출력 지원
  - _요구사항: 5.3_

- [x] 9.3 libetude 오디오 I/O 통합
  - libetude 오디오 시스템과의 통합 인터페이스 구현
  - 크로스 플랫폼 오디오 처리 지원
  - _요구사항: 4.1, 4.2_

- [x] 9.4 오디오 I/O 단위 테스트 작성
  - test_audio_io.c 파일 생성
  - 파일 읽기/쓰기 정확성 테스트
  - _요구사항: 4.1, 4.2, 5.3_

- [ ] 10. 에러 처리 및 로깅 시스템 구현
  - world4utau 전용 에러 코드 및 처리 구현
  - libetude 로깅 시스템과 통합
  - _요구사항: 4.3_

- [ ] 10.1 에러 코드 정의 및 처리 구현
  - WorldErrorCode 열거형 및 에러 문자열 구현
  - world_get_error_string 함수 구현
  - _요구사항: 4.3_

- [ ] 10.2 로깅 시스템 통합
  - world4utau 전용 로깅 매크로 구현
  - libetude 로깅 시스템과의 통합
  - _요구사항: 4.3_

- [ ] 10.3 에러 처리 단위 테스트 작성
  - test_error_handling.c 파일 생성
  - 다양한 에러 상황 테스트
  - _요구사항: 4.3_

- [ ] 11. 메인 애플리케이션 구현
  - 명령줄 인터페이스 메인 함수 구현
  - 전체 워크플로우 통합
  - _요구사항: 1.1, 5.1, 5.2_

- [ ] 11.1 메인 함수 및 워크플로우 구현
  - main.c 파일 생성 및 전체 처리 플로우 구현
  - 파라미터 파싱부터 오디오 출력까지 통합
  - _요구사항: 1.1, 5.1, 5.2_

- [ ] 11.2 명령줄 도움말 및 사용법 구현
  - 사용법 출력 함수 구현
  - 기존 world4utau와 동일한 인터페이스 제공
  - _요구사항: 5.1, 5.2_

- [ ] 11.3 성능 모니터링 통합
  - libetude 성능 분석 도구 통합
  - 처리 시간 및 메모리 사용량 모니터링
  - _요구사항: 4.4, 6.1_

- [ ] 12. 통합 테스트 및 성능 최적화
  - 전체 시스템 통합 테스트 구현
  - 성능 벤치마크 및 최적화
  - _요구사항: 6.1, 6.2, 6.3, 6.4_

- [ ] 12.1 통합 테스트 스위트 작성
  - test_integration.c 파일 생성
  - 실제 UTAU 사용 시나리오 테스트
  - _요구사항: 6.1, 6.4_

- [ ] 12.2 성능 벤치마크 구현
  - benchmark_world4utau.c 파일 생성
  - 기존 world4utau와의 성능 비교
  - _요구사항: 6.1, 6.2, 6.3_

- [ ] 12.3 실시간 성능 최적화
  - 100ms 이내 처리 목표 달성을 위한 최적화
  - 멀티스레딩 및 SIMD 최적화 적용
  - _요구사항: 6.1, 6.3_

- [ ] 12.4 메모리 사용량 최적화
  - 메모리 풀 효율성 개선
  - 메모리 누수 방지 및 최적화
  - _요구사항: 6.2_

- [ ] 13. 문서화 및 예제 작성
  - 사용법 문서 및 예제 코드 작성
  - API 문서화 완성
  - _요구사항: 5.1, 5.2_

- [ ] 13.1 README 및 사용법 문서 작성
  - examples/world4utau/README.md 파일 작성
  - 빌드 방법 및 사용법 설명
  - _요구사항: 5.1, 5.2_

- [ ] 13.2 API 문서화 완성
  - 모든 공개 함수에 대한 Doxygen 주석 추가
  - API 참조 문서 생성
  - _요구사항: 5.1_

- [ ] 13.3 예제 스크립트 작성
  - 기본 사용 예제 스크립트 작성
  - OpenUTAU 연동 예제 제공
  - _요구사항: 5.1, 5.2_

- [ ] 14. DSP 블록 다이어그램 시스템 구현
  - WORLD 처리 과정을 모듈화된 DSP 블록으로 설계
  - 각 블록 간의 데이터 흐름 정의 및 구현
  - _요구사항: 7.1, 7.2, 7.3, 7.4_

- [ ] 14.1 DSP 블록 기본 인터페이스 구현
  - DSPBlock 구조체 및 기본 인터페이스 함수 구현
  - 블록 간 연결을 위한 포트 시스템 구현
  - _요구사항: 7.1, 7.2_

- [ ] 14.2 WORLD 전용 DSP 블록들 구현
  - F0 추출, 스펙트럼 분석, 비주기성 분석, 합성 블록 구현
  - 각 블록의 입력/출력 인터페이스 표준화
  - _요구사항: 7.1, 7.2, 7.3_

- [ ] 14.3 DSP 블록 다이어그램 빌더 구현
  - DSPBlockDiagram 구조체 및 빌더 함수 구현
  - 블록 간 연결 검증 및 데이터 흐름 관리
  - _요구사항: 7.1, 7.2, 7.4_

- [ ] 14.4 DSP 블록 팩토리 구현
  - DSPBlockFactory를 통한 블록 생성 시스템 구현
  - 설정 기반 블록 생성 및 초기화
  - _요구사항: 7.1, 7.2_

- [ ] 14.5 DSP 블록 시스템 단위 테스트 작성
  - test_dsp_blocks.c 파일 생성
  - 각 블록의 기능 및 연결 테스트
  - _요구사항: 7.1, 7.2, 7.3, 7.4_

- [ ] 15. libetude 그래프 엔진 통합 구현
  - DSP 블록 다이어그램을 libetude 그래프로 변환
  - 그래프 기반 최적화 및 병렬 실행 지원
  - _요구사항: 8.1, 8.2, 8.3, 8.4_

- [ ] 15.1 WORLD 그래프 노드 구현
  - WorldGraphNode 구조체 및 노드 타입별 구현
  - libetude 그래프 노드와의 통합 인터페이스
  - _요구사항: 8.1, 8.2_

- [ ] 15.2 그래프 빌더 구현
  - WorldGraphBuilder를 통한 그래프 생성 시스템
  - DSP 블록에서 그래프 노드로의 변환 로직
  - _요구사항: 8.1, 8.2_

- [ ] 15.3 그래프 실행 컨텍스트 구현
  - WorldGraphContext 구조체 및 실행 관리
  - 비동기 실행 및 콜백 시스템 지원
  - _요구사항: 8.2, 8.4_

- [ ] 15.4 그래프 최적화 구현
  - 노드 융합, 메모리 재사용, SIMD 최적화 구현
  - 의존성 분석 및 병렬 실행 스케줄링
  - _요구사항: 8.3, 8.4_

- [ ] 15.5 그래프 엔진 통합 단위 테스트 작성
  - test_graph_integration.c 파일 생성
  - 그래프 생성, 최적화, 실행 테스트
  - _요구사항: 8.1, 8.2, 8.3, 8.4_

- [ ] 16. 통합 WORLD 처리 파이프라인 구현
  - DSP 블록과 그래프 엔진을 통합한 완전한 파이프라인
  - 설정 기반 파이프라인 생성 및 관리
  - _요구사항: 7.1, 7.2, 7.3, 7.4, 8.1, 8.2, 8.3, 8.4_

- [ ] 16.1 파이프라인 매니저 구현
  - WorldPipeline 구조체 및 관리 함수 구현
  - 파이프라인 생명주기 관리 (생성, 초기화, 실행, 해제)
  - _요구사항: 7.4, 8.1, 8.2_

- [ ] 16.2 파이프라인 설정 시스템 구현
  - WorldPipelineConfig를 통한 통합 설정 관리
  - 오디오, WORLD 알고리즘, 그래프 최적화 설정 통합
  - _요구사항: 7.1, 7.2, 8.3_

- [ ] 16.3 스트리밍 처리 지원 구현
  - 실시간 스트리밍을 위한 청크 단위 처리
  - 콜백 기반 비동기 처리 시스템
  - _요구사항: 7.4, 8.4_

- [ ] 16.4 성능 모니터링 통합
  - 파이프라인 전체의 성능 프로파일링
  - 각 처리 단계별 시간 및 메모리 사용량 측정
  - _요구사항: 8.3, 8.4_

- [ ] 16.5 통합 파이프라인 단위 테스트 작성
  - test_world_pipeline.c 파일 생성
  - 전체 파이프라인 동작 및 성능 테스트
  - _요구사항: 7.1, 7.2, 7.3, 7.4, 8.1, 8.2, 8.3, 8.4_

- [ ] 17. 블록 다이어그램 시각화 및 디버깅 도구
  - DSP 블록 다이어그램 시각화 기능
  - 그래프 실행 디버깅 및 프로파일링 도구
  - _요구사항: 7.1, 7.4, 8.1, 8.3_

- [ ] 17.1 블록 다이어그램 시각화 구현
  - 블록 다이어그램을 Graphviz DOT 형식으로 출력
  - 실행 시간 및 데이터 흐름 시각화
  - _요구사항: 7.1, 7.4_

- [ ] 17.2 그래프 디버깅 도구 구현
  - 그래프 노드별 실행 상태 모니터링
  - 데이터 흐름 추적 및 오류 진단 기능
  - _요구사항: 8.1, 8.3_

- [ ] 17.3 성능 프로파일링 도구 구현
  - 블록별, 노드별 성능 측정 및 보고
  - 병목 지점 식별 및 최적화 제안
  - _요구사항: 8.3, 8.4_

- [ ] 17.4 디버깅 도구 단위 테스트 작성
  - test_debugging_tools.c 파일 생성
  - 시각화 및 디버깅 기능 테스트
  - _요구사항: 7.1, 7.4, 8.1, 8.3_